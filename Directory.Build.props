<Project>
  <!--
    WileyWidget Build Configuration
    See docs/development-guide.md for comprehensive development standards
    See CONTRIBUTING.md for contribution guidelines
    See .vscode/project-plan.md for True North vision and roadmap
  -->
  <PropertyGroup>
    <TreatWarningsAsErrors>false</TreatWarningsAsErrors>
    <Nullable>disable</Nullable>
    <!-- Suppress duplicate type warnings (CS0436) - types exist in both source and compiled assemblies -->
    <NoWarn>$(NoWarn);NETSDK1206;CS0436</NoWarn>

    <!-- Build Caching and Performance Optimizations -->
    <UseSharedCompilation>true</UseSharedCompilation>
    <ProduceReferenceAssemblyInOutDir>true</ProduceReferenceAssemblyInOutDir>
    <AccelerateBuildsInVisualStudio>true</AccelerateBuildsInVisualStudio>

    <!-- Enable incremental build features -->
    <DisableFastUpToDateCheck>false</DisableFastUpToDateCheck>
    <DisableImplicitFrameworkReferences>false</DisableImplicitFrameworkReferences>

    <!-- Optimize for development workflow -->
    <CopyLocalLockFileAssemblies>true</CopyLocalLockFileAssemblies>
    <RestoreUseStaticGraphEvaluation>true</RestoreUseStaticGraphEvaluation>

    <!-- Enable parallel builds for faster compilation -->
    <BuildInParallel>true</BuildInParallel>
    <MaxCpuCount>$(NUMBER_OF_PROCESSORS)</MaxCpuCount>

    <!-- Ensure nested build outputs are never re-included in compilation -->
    <DefaultItemExcludes>$(DefaultItemExcludes);**\bin\**;**\obj\**</DefaultItemExcludes>

    <!-- WPF/XAML: prevent design-time wpftmp temporary projects which sometimes miss PackageReferences -->
    <GenerateTemporaryTargetAssembly>false</GenerateTemporaryTargetAssembly>
    <AlwaysCompileMarkupFilesInSeparateDomain>false</AlwaysCompileMarkupFilesInSeparateDomain>
    <!-- Ensure NuGet PackageReferences are available to the WPF markup compilation (wpftmp) step -->
    <IncludePackageReferencesDuringMarkupCompilation>true</IncludePackageReferencesDuringMarkupCompilation>
  </PropertyGroup>
</Project>
