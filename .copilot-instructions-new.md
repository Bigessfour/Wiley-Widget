# Wiley Widget Development Guidelines# Wiley Widget Development Guidelines



## ï¿½ Project Overview## ï¿½ Project Overview

Wiley Widget is a .NET WPF application focused on municipal budgeting and utility management. Key technologies include Syncfusion for UI components, Prism for modular architecture and view management, Entity Framework Core for data access, and Microsoft.Extensions.Hosting for dependency injection. We're in the process of refactoring to put Prism fully in control of startup, views, and navigationâ€”ditching custom hacks for cleaner, more maintainable code.Wiley Widget is a .NET WPF application focused on municipal budgeting and utility management. Key technologies include Syncfusion for UI components, Prism for modular architecture and view management, Entity Framework Core for data access, and Microsoft.Extensions.Hosting for dependency injection. We're in the process of refactoring to put Prism fully in control of startup, views, and navigationâ€”ditching custom hacks for cleaner, more maintainable code.



## ðŸš€ Core Development Workflow## ðŸš€ Core Development Workflow



### Startup and Build### Startup and Build

- Use `dotnet build` for compilation.- Use `dotnet build` for compilation.

- Run the app with `dotnet run` from the src/ directory.- Run the app with `dotnet run` from the src/ directory.

- For watching changes: `dotnet watch run`.- For watching changes: `dotnet watch run`.

- Clean builds: `dotnet clean`.- Clean builds: `dotnet clean`.



### Configuration### Configuration

- Edit `appsettings.json` and `appsettings.Development.json` for environment-specific settings.- Edit `appsettings.json` and `appsettings.Development.json` for environment-specific settings.

- Use `App.config` for legacy config needs.- Use `App.config` for legacy config needs.

- Avoid hardcoding pathsâ€”leverage relative paths and environment variables.- Avoid hardcoding pathsâ€”leverage relative paths and environment variables.



### Debugging### Debugging

- Set breakpoints in VS Code or Visual Studio.- Set breakpoints in VS Code or Visual Studio.

- Use the built-in debugger for WPF-specific issues (e.g., UI threading problems).- Use the built-in debugger for WPF-specific issues (e.g., UI threading problems).

- Refer to `docs/DEBUGPY_STARTUP_GUIDE.md` for advanced startup debugging.- Refer to `docs/DEBUGPY_STARTUP_GUIDE.md` for advanced startup debugging.



## ðŸ§ª Testing Framework## ðŸ§ª Testing Framework



### Test Execution### Test Execution

- Unit tests: `dotnet test` from the root or test project directories.- Unit tests: `dotnet test` from the root or test project directories.

- Integration tests: Focus on EF Core and Prism navigationâ€”run via `dotnet test --filter Category=Integration`.- Integration tests: Focus on EF Core and Prism navigationâ€”run via `dotnet test --filter Category=Integration`.

- UI tests: Use FlaUI for automation in WileyWidget.UiTests.- UI tests: Use FlaUI for automation in WileyWidget.UiTests.

- Aim for high coverage on ViewModels and services.- Aim for high coverage on ViewModels and services.



### Test Structure### Test Structure

- **Unit tests**: Isolate ViewModels, services, and utilities.- **Unit tests**: Isolate ViewModels, services, and utilities.

- **Integration tests**: Cover database migrations, Prism module init, and navigation flows.- **Integration tests**: Cover database migrations, Prism module init, and navigation flows.

- **UI tests**: Verify rendering and data binding for Syncfusion controls.- **UI tests**: Verify rendering and data binding for Syncfusion controls.



## ðŸ“‹ VS Code Integration## ðŸ“‹ VS Code Integration



### Recommended Extensions### Recommended Extensions

- C# (ms-dotnettools.csharp) for IntelliSense and debugging.- C# (ms-dotnettools.csharp) for IntelliSense and debugging.

- NuGet Gallery for package management.- NuGet Gallery for package management.

- WPF Tools for XAML preview (if available).- WPF Tools for XAML preview (if available).

- GitLens for better version control insights.- GitLens for better version control insights.



### Available Tasks (in .vscode/tasks.json)### Available Tasks (in .vscode/tasks.json)

- `build`: Runs `dotnet build`.- `build`: Runs `dotnet build`.

- `test`: Runs `dotnet test`.- `test`: Runs `dotnet test`.

- `clean`: Runs `dotnet clean`.- `clean`: Runs `dotnet clean`.

- `watch`: Runs `dotnet watch run` for hot reload.- `watch`: Runs `dotnet watch run` for hot reload.



### Recommended Workflow### Recommended Workflow

1. **Build**: Run "build" task.1. **Build**: Run "build" task.

2. **Develop**: Edit code with hot reload via "watch" task.2. **Develop**: Edit code with hot reload via "watch" task.

3. **Test**: Run "test" task for feedback.3. **Test**: Run "test" task for feedback.

4. **Commit**: Use GitLens to review changes.4. **Commit**: Use GitLens to review changes.



## ðŸ”§ Development Best Practices## ðŸ”§ Development Best Practices



### Code Standards### Code Standards

- Follow layered architecture: Separate concerns into Views, ViewModels, Models, Services.- Follow layered architecture: Separate concerns into Views, ViewModels, Models, Services.

- Use Prism for all view registration, navigation, and module management.- Use Prism for all view registration, navigation, and module management.

- Inject dependencies via constructor injection.- Inject dependencies via constructor injection.

- Handle UI threading properlyâ€”dispatch to UI thread for updates.- Handle UI threading properlyâ€”dispatch to UI thread for updates.



### Prism Usage### Prism Usage

- Bootstrapper handles startup: Inherit from PrismBootstrapper for shell creation and module config.- Bootstrapper handles startup: Inherit from PrismBootstrapper for shell creation and module config.

- Register views with regions in module Initialize().- Register views with regions in module Initialize().

- Use INavigationAware in ViewModels for parameterized navigation.- Use INavigationAware in ViewModels for parameterized navigation.

- Avoid custom navigation servicesâ€”stick to Prism's RegionManager.- Avoid custom navigation servicesâ€”stick to Prism's RegionManager.



### Syncfusion Integration### Syncfusion Integration

- Apply theming using `SfSkinManager` as documented by Syncfusion.- Apply theming using `SfSkinManager` as documented by Syncfusion.

- Test rendering in UI tests to catch binding issues.- Test rendering in UI tests to catch binding issues.



### Contribution### Contribution

- Follow `CONTRIBUTING.md` for PRs.- Follow `CONTRIBUTING.md` for PRs.

- Update `CHANGELOG.md` and `RELEASE_NOTES.md` with changes.- Update `CHANGELOG.md` and `RELEASE_NOTES.md` with changes.

- Run tests before pushing.- Run tests before pushing.



## ðŸŽ¨ Theme Management Guidelines## ðŸŽ¨ Theme Management Guidelines



- Follow Syncfusionâ€™s official guidance for `SfSkinManager` when applying themes.

- Set the application-wide theme early in startup using `SfSkinManager.ApplicationTheme` or `SfSkinManager.SetTheme`.

- Ensure the corresponding theme assemblies (for example, `Syncfusion.Themes.FluentDark.WPF.dll`) are referenced when a theme is used.

- Keep any shared helper (such as `ThemeUtility`) aligned with documented Syncfusion behavior, using it as a thin wrapper when desired.















