name: Test and Coverage\n\non:\n  push:\n    branches: [ main, feature/* ]\n  pull_request:\n    branches: [ main ]\n\njobs:\n  test:\n    runs-on: windows-latest\n\n    steps:\n    - uses: actions/checkout@v4\n\n    - name: Setup .NET 10\n      uses: actions/setup-dotnet@v4\n      with:\n        dotnet-version: '10.0.x'\n\n    - name: Restore dependencies\n      run: dotnet restore\n\n    - name: Build\n      run: dotnet build --no-restore --configuration Release\n\n    - name: Test with Coverage\n      run: dotnet test --no-build --configuration Release --collect:\"XPlat Code Coverage\" --results-directory ./coverage\n\n    - name: Upload coverage to Codecov\n      uses: codecov/codecov-action@v4\n      with:\n        files: ./coverage/**/coverage.cobertura.xml\n        fail_ci_if_error: true
