{
  // Database Development Theme Configuration
  "workbench.colorTheme": "Default Dark Modern",
  "workbench.colorCustomizations": {
    "[Default Dark Modern]": {
      // Dark theme optimized for database development
      "editor.background": "#0f0f23",
      "editor.foreground": "#cccccc",
      "editor.lineHighlightBackground": "#1e1e2e",
      "editor.selectionBackground": "#264f78",
      "editor.inactiveSelectionBackground": "#3a3d4100",
      "editorSuggestWidget.foreground": "#CCCCCC",
      "copilotEditor.background": "#1E1E2E"
    }
  },
  "editor.tokenColorCustomizations": {
    "[Default Dark Modern]": {
      "textMateRules": [
        {
          "scope": "keyword.control.sql",
          "settings": {
            "foreground": "#569cd6"
          }
        },
        {
          "scope": "string.quoted.single.sql",
          "settings": {
            "foreground": "#ce9178"
          }
        },
        {
          "scope": "constant.numeric.sql",
          "settings": {
            "foreground": "#b5cea8"
          }
        },
        {
          "scope": "entity.name.function.sql",
          "settings": {
            "foreground": "#dcdcaa"
          }
        }
      ]
    }
  },
  "workbench.iconTheme": "vs-seti",
  "workbench.editor.highlightModifiedTabs": true,
  "workbench.editor.tabCloseButton": "left",
  "workbench.tree.indent": 20,
  "cSpell.words": [
    "biges",
    "BSTR",
    "CONNECTIONSTRING",
    "CONNECTIONSTRINGS",
    "fetchability",
    "FIOS",
    "GETUTCDATE",
    "hyperthreading",
    "LASTEXITCODE",
    "localdb",
    "MSBUILDDEBUGPATH",
    "mssqllocaldb",
    "Mvvm",
    "nameof",
    "NOLOGO",
    "NVARCHAR",
    "OPTOUT",
    "pwsh",
    "Serilog",
    "snupkg",
    "sonarqube",
    "sqllocaldb",
    "userprefs",
    "Uverse",
    "wileyadmin",
    "WILEYWIDGET",
    "winget",
    "Xfinity"
  ],
  // PowerShell Extension v2025.4.0 configuration (per https://learn.microsoft.com/en-us/powershell/scripting/dev-cross-plat/vscode/using-vscode)
  "powershell.powerShellDefaultVersion": "PowerShell 7.5.3",
  "powershell.powerShellExePath": "C:/Program Files/PowerShell/7/pwsh.exe",
  "powershell.powerShellAdditionalExePaths": {
    "PowerShell 7.5.3": "C:/Program Files/PowerShell/7/pwsh.exe"
  },
  "powershell.enableProfileLoading": true,
  "powershell.enableReferencesCodeLens": true,
  "powershell.enableScriptAnalysis": true, // Re-enabled for script analysis
  "powershell.enableSignatureHelp": false, // Disabled for performance
  "powershell.scriptAnalysis.settingsPath": ".vscode\\PSScriptAnalyzerSettings.psd1",
  "powershell.codeFormatting.preset": "OTBS",
  "powershell.codeFormatting.autoCorrectAliases": false, // Disabled for performance
  "powershell.codeFormatting.useCorrectCasing": false, // Disabled for performance
  "powershell.integratedConsole.showOnStartup": true,
  "powershell.integratedConsole.focusConsoleOnExecute": false,
  // GitHub Copilot Configuration
  "github.copilot.enable": {
    "*": true,
    "csharp": true,
    "xaml": true,
    "python": true,
    "powershell": true,
    "plaintext": false,
    "markdown": true,
    "scminput": false
  },
  "github.copilot.advanced": {
    "debug.overrideModel": "grok-code-fast-1",
    "length": 1500,
    "temperature": 0.15
  },
  "copilot.model": "grok-code-fast-1",
  "kilocode.model": "grok-code-fast-1",
  // File Associations for PowerShell
  "files.associations": {
    "*.ps1": "powershell",
    "*.psm1": "powershell",
    "*.psd1": "powershell"
  },
  // PowerShell-specific settings
  "[powershell]": {
    "editor.defaultFormatter": "ms-vscode.powershell",
    "editor.formatOnSave": true,
    "editor.formatOnType": true
  },
  "[csharp]": { "editor.suggest.showSnippets": true },
  "[xaml]": { "editor.formatOnSave": true },
  // MCP (Model Context Protocol) Configuration
  "mcp": {
    "servers": {
      "MCP_DOCKER": {
        "command": "docker",
        "args": ["mcp", "gateway", "run"],
        "type": "stdio"
      }
    }
  },

  // Enhanced context for C# development
  "dotnet.completion.showCompletionItemsFromUnimportedNamespaces": true,
  "omnisharp.enableEditorConfigSupport": true,
  "omnisharp.enableRoslynAnalyzers": true,

  // SQL Server Extension Settings (ms-mssql.mssql) - Migrated to local development
  // Removed: Azure SQL connections deprecated with Azure Account retirement Jan 2025
  "mssql.connections": [
    {
      "server": "(localdb)\\mssqllocaldb",
      "database": "WileyWidgetDb",
      "authenticationType": "Integrated"
    }
  ],
  "mssql.saveAsCsv.includeHeaders": true,
  "mssql.saveAsCsv.delimiter": ",",
  "mssql.saveAsCsv.lineSeparator": "\n",
  "mssql.saveAsCsv.encoding": "utf-8",
  "mssql.query.displayBitAsNumber": true,
  "mssql.query.maxXmlCharsToStore": 2097152,
  "mssql.query.maxCharsToStore": 65535,
  "mssql.query.rowsToCache": 500,
  "mssql.intelliSense.enableIntelliSense": true,
  "mssql.intelliSense.enableErrorChecking": true,
  "mssql.intelliSense.enableSuggestions": true,
  "mssql.intelliSense.enableQuickInfo": true,
  "mssql.intelliSense.lowerCaseSuggestions": false,

  // PowerShell formatting
  "powershell.codeFormatting.openBraceOnSameLine": true,

  // Terminal Shell Integration (VS Code 1.74+)
  "terminal.integrated.shellIntegration.enabled": true,
  "terminal.integrated.shellIntegration.decorationsEnabled": "both",
  "terminal.integrated.shellIntegration.suggestEnabled": true,
  "terminal.integrated.shellIntegration.history": 100,
  "terminal.integrated.shellIntegration.showCommandGuide": true,
  "terminal.integrated.stickyScroll.enabled": true,
  "terminal.integrated.scrollback": 5000,

  // XAML formatting
  "xml.format.splitAttributes": "splitNewLine",

  // Workspace-specific Copilot guidance
  "github.copilot.chat.welcomeMessage": "Welcome to WileyWidget! This is a hobby WPF project focused on learning. I'll suggest practical patterns suitable for experimentation rather than production-level complexity.",

  // Auto-approval settings for all requests
  "extensions.autoCheckUpdates": true,
  "extensions.autoUpdate": "onlyEnabledExtensions",
  "git.autofetch": true,
  "git.confirmSync": false,
  "git.enableSmartCommit": true,
  "mcp.autoApprove": true,
  // "mcp.servers.github.autoApprove": true, // Removed: MCP github server commented out
  "terminal.integrated.confirmOnExit": "never",
  "terminal.integrated.confirmOnKill": "never",

  // File Watcher Exclusions - Critical for preventing OOM crashes
  // Exclude build artifacts, dependencies, and large directories from file watching
  "files.watcherExclude": {
    "**/.git/objects/**": true,
    "**/.git/subtree-cache/**": true,
    "**/node_modules/**": true,
    "**/bin/**": true,
    "**/obj/**": true,
    "**/build/**": true,
    "**/.venv/**": true,
    "**/packages/**": true,
    "**/TestResults/**": true,
    "**/coverage/**": true,
    "**/logs/**": true,
    "**/*.log": true,
    "**/publish/**": true,
    "**/.vs/**": true,
    "**/.trunk/**": true,
    "**/.pytest_cache/**": true,
    "**/TestsAndLogs/**": true,
    "**/*.tmp": true,
    "**/*.bak": true,
    "**/*.backup*": true,
    "**/*_backup*": true
  },

  // Memory optimization settings
  "editor.largeFileOptimizations": true,
  "files.maxMemoryForLargeFilesMB": 10240,
  "search.maxResults": 10000,
  "search.followSymlinks": false,
  "git.enabled": true,
  "git.autorefresh": false,
  "workbench.editor.wrapWord": "on",

  // Python Configuration
  "python.defaultInterpreterPath": "${workspaceFolder}/.venv/Scripts/python.exe",
  "python.terminal.activateEnvironment": true,
  "python.linting.enabled": true,
  "python.linting.pylintEnabled": false,
  "python.linting.flake8Enabled": false,
  "python.formatting.provider": "black",
  "python.formatting.blackArgs": ["--line-length", "120"],
  // Exclude common generated and environment folders from analysis to avoid third-party package lint noise
  "files.exclude": {
    "**/.venv/**": true,
    "**/%APPDATA%/**": true,
    "**/node_modules/**": true
  },
  "python.analysis.logLevel": "Error",
  "python.analysis.extraPaths": ["${workspaceFolder}/scripts"],

  // Testing Configuration
  "testing.autoRun.mode": "rerun",
  "testing.openTesting": "openOnTestStart",
  "testing.defaultGutterClickAction": "run",
  "testing.gutterEnabled": true,
  "testing.countBadge": "failed",
  "testing.followRunningTest": true,
  "testing.saveBeforeTest": true,

  // Test Coverage Configuration
  "coverage-gutters.showGutterCoverage": true,
  "coverage-gutters.showLineCoverage": true,
  "coverage-gutters.showRulerCoverage": true,
  "coverage-gutters.coverageFileNames": [
    "lcov.info",
    "cov.xml",
    "coverage.xml",
    "jacoco.xml",
    "coverage.json"
  ],
  "coverage-gutters.coverageBaseDir": "${workspaceFolder}",
  "coverage-gutters.coverageFileExtension": ".xml,.json,.info",
  "coverage-gutters.partialHighlightBackground": "#FF000055",

  // Python Testing Configuration
  "python.testing.pytestEnabled": true,
  "python.testing.pytestArgs": [
    "--verbose",
    "--tb=short",
    "--maxfail=5",
    "-m",
    "not slow"
  ],
  "python.testing.pytestPath": "pytest",

  // C# Testing Configuration
  "dotnet-test-explorer.testProjectPath": "**/*Test*.csproj",
  "dotnet-test-explorer.enableTelemetry": false,
  "dotnet-test-explorer.showCodeCoverage": true,
  "dotnet-test-explorer.testResultFormat": "detailed",

  // Test Explorer Configuration
  "testExplorer.addToEditorContextMenu": true,
  "testExplorer.codeLens": true,
  "testExplorer.errorDecoration": true,
  "testExplorer.gutterDecoration": true,
  "testExplorer.mergeSuites": false,
  "testExplorer.showCollapseButton": true,
  "testExplorer.showExpandButton": true,
  "testExplorer.showOnRunStart": true,
  "testExplorer.sort": "byLocation",
  "testExplorer.useNativeTesting": true,

  // Pytest Runner Configuration
  "pytestRunner.cwd": "${workspaceFolder}",
  "pytestRunner.args": ["--verbose", "--tb=short", "--maxfail=5"],
  "pytestRunner.env": {
    "PYTHONPATH": "${workspaceFolder}"
  },
  "testing.automaticallyOpenTestResults": "openOnTestStart",
  "workbench.editor.tabActionLocation": "left"
}
