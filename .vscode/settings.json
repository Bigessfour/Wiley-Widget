{
  "github.copilot.chat.localeOverride": "en",
  "chat.useAgentSkills": true,
  "chat.agentSkillsLocations": [
    ".agents/skills",
    ".vscode/skills"
  ],
  "github.copilot.advanced": {
    "debug.useNodeFetcher": true,
    "inlineSuggest.enable": true
  },
  "copilot.chat.participation": "always",
  "files.associations": {
    "*.md": "markdown",
    "*.xaml": "xml",
    "*.resw": "xml",
    "*.resx": "xml",
    "copilot-mcp-rules.md": "markdown"
  },
  "github.copilot.chat.welcomeMessage": "first",
  "github.copilot.chat.tools.changes.enabled": true,
  "github.copilot.editor.enableAutoCompletions": true,
  "github.copilot.chat.agent.autoStartMcpServers": true,

  // ============================================================================
  // Terminal Configuration - Agent Terminals Disabled
  // ============================================================================
  "terminal.integrated.hideAgentShellProcesses": true,
  "task.autoClose": true,
  "chat.tools.terminal.outputLocation": "terminal",

  // ============================================================================
  // MCP (Model Context Protocol) Server Configuration
  // ============================================================================
  "github.copilot.chat.mcpServers": {
    "filesystem": {
      "command": "npx",
      "args": [
        "-y",
        "@modelcontextprotocol/server-filesystem",
        "."
      ]
    },
    "microsoft-learn": {
      "type": "http",
      "url": "https://learn.microsoft.com/api/mcp"
    },
    "csharp-mcp": {
      "command": "dotnet",
      "args": [
        "tool",
        "run",
        "InfinityFlow.CSharp.Eval"
      ],
      "env": {
        "CSX_ALLOWED_PATH": "C:\\Users\\biges\\Desktop\\Wiley-Widget",
        "DOTNET_CLI_TELEMETRY_OPTOUT": "1",
        "DOTNET_NOLOGO": "1"
      }
    },
    "sequential-thinking": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-sequential-thinking"],
      "env": {
        "DISABLE_THOUGHT_LOGGING": "false"
      }
    },
    "mssql": {
      "command": "npx",
      "args": ["-y", "mssql-mcp"],
      "env": {
        "MSSQL_CONNECTION_STRING": "${env:MSSQL_CONNECTION_STRING}"
      },
      "disabled": false
    },
    "syncfusion-winforms-assistant": {
      "command": "npx",
      "args": ["-y", "@syncfusion/winforms-assistant@latest"],
      "env": {
        "Syncfusion_API_Key": "${env:SYNCFUSION_MCP_API_KEY}"
      }
    },
    "mcp-debugger": {
      "command": "npx",
      "args": ["-y", "@debugmcp/mcp-debugger@0.17.0", "stdio", "--log-level", "info", "--log-file", "${workspaceFolder}\\logs\\mcp-debugger.log"]
    },
    "github": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-github"],
      "env": {
        "GITHUB_PERSONAL_ACCESS_TOKEN": "${env:GITHUB_PERSONAL_ACCESS_TOKEN}"
      }
    }
  },

  // ============================================================================
  // ============================================================================
  "xamlDiag.autoDetectCompiler": true,
  "xamlDiag.defaultObjDir": "obj/Debug/net10.0-windows10.0.26100.0/win-x64",
  "xml.format.enabled": true,
  "xml.format.splitAttributes": "preserve",
  "xml.format.maxLineWidth": 120,
  "xml.format.splitAttributesIndentSize": 2,
  "xml.format.preserveSpace": ["*"],
  "xml.codeLens.enabled": true,
  "xml.validation.enabled": true,
  "xml.validation.noGrammar": "ignore",
  "xml.completion.autoCloseTags": true,

  // ============================================================================
  // Editor Configuration
  // ============================================================================
  "editor.defaultFormatter": "trunk.io",
  "editor.formatOnSave": true,
  "editor.formatOnPaste": false,
  "editor.codeActionsOnSave": {
    "source.fixAll": "explicit",
    "source.fixAll.trunk": "always",
    "source.organizeImports": "explicit",
    "source.fixAll.powershell": "explicit"
  },
  "editor.minimap.enabled": false,
  "editor.wordSeparators": "`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?",
  "editor.suggestSelection": "first",
  "editor.quickSuggestions": {
    "other": true,
    "comments": false,
    "strings": true
  },
  "editor.acceptSuggestionOnCommitCharacter": true,
  "editor.acceptSuggestionOnEnter": "on",
  "editor.semanticHighlighting.enabled": true,
  "editor.bracketPairColorization.enabled": true,
  "editor.guides.bracketPairs": true,
  "editor.inlineSuggest.enabled": true,

  // ============================================================================
  // File Management
  // ============================================================================
  "files.autoSave": "afterDelay",
  "files.autoSaveDelay": 1000,
  "files.maxMemoryForLargeFilesMB": 8192,
  "files.exclude": {
    "**/.git": true,
    "**/.svn": true,
    "**/.hg": true,
    "**/CVS": true,
    "**/.DS_Store": true,
    "**/Thumbs.db": true,
    "**/bin": true,
    "**/obj": true,
    "**/tests/.archive/**": true
  },
  "search.exclude": {
    "**/node_modules": true,
    "**/bin": true,
    "**/obj": true,
    "**/*.nupkg": true,
    "**/TestResults": true,
    "**/.venv": true,
    "**/__pycache__": true,
    "**/tests/.archive/**": true
  },
  "files.watcherExclude": {
    "**/.git/objects/**": true,
    "**/.git/subtree-cache/**": true,
    "**/.vs/**": true,
    "**/*.binlog": true,
    "**/node_modules/**": true,
    "**/bin/**": true,
    "**/obj/**": true,
    "**/*.nupkg": true,
    "**/TestResults/**": true,
    "**/.venv/**": true,
    "**/tests/.archive/**": true
  },
  "search.followSymlinks": false,

  // ============================================================================
  // .NET & C# Configuration
  // ============================================================================
  "dotnet.completion.showCompletionItemsFromUnimportedNamespaces": true,
  "dotnet.completion.showPerProjectDotnetReferences": true,
  "dotnet.enablePackageRestore": true,
  "dotnet.defaultSolution": "WileyWidget.sln",
  "dotnet.server.searchSubdirectoriesForSolution": true,
  "dotnet.unitTests.runTestsInParallel": true,
  "dotnet.unitTests.showCodeLens": true,
  "omnisharp.enableEditorConfigSupport": true,
  "omnisharp.enableRoslynAnalyzers": true,
  "omnisharp.enableLspDriver": true,
  "omnisharp.projectLoadTimeout": 60000,
  "omnisharp.sdkIncludePrereleases": false,
  "omnisharp.enableMsBuildLoadProjectWithMsBuild": true,
  "omnisharp.excludePaths": [
    "**/tests/**"
  ],
  "omnisharp.enableAsyncCompletion": true,
  "omnisharp.analyzeOpenDocumentsOnly": true,

  "csharp.suppressDotnetRestoreNotification": true,
  "csharp.semanticHighlighting.enabled": true,

  "[csharp]": {
    "editor.formatOnSave": true,
    "editor.defaultFormatter": "ms-dotnettools.csharp",
    "editor.formatOnSaveMode": "modifications"
  },

  "[python]": {
    "editor.defaultFormatter": "trunk.io",
    "editor.formatOnSave": true
  },

  "[markdown]": {
    "editor.defaultFormatter": "trunk.io",
    "editor.formatOnSave": false
  },

  "[json]": {
    "editor.defaultFormatter": "trunk.io"
  },

  "[yaml]": {
    "editor.defaultFormatter": "trunk.io"
  },

  "[powershell]": {
    "editor.defaultFormatter": "ms-vscode.powershell"
  },

  // ============================================================================
  // Testing Configuration
  // ============================================================================
  "testExplorer.useNativeTesting": true,
  "dotnet-test-explorer.testProjectPath": "tools/SyncfusionMcpServer/tools/WileyWidgetMcpServer.Tests/WileyWidgetMcpServer.Tests.csproj",
  "dotnet-test-explorer.autoWatch": false,
  "coverage-gutters.showLineCoverage": true,
  "coverage-gutters.showRulerCoverage": true,

  // Disable Python Test Adapter (primarily a .NET project)
  "pythonTestExplorer.testFramework": null,
  "python.testing.autoTestDiscoverOnSaveEnabled": false,

  // ============================================================================
  // Git & Version Control
  // ============================================================================
  "git.autofetch": true,
  "git.confirmSync": false,
  "git.enableSmartCommit": true,
  "gitlens.codeLens.enabled": true,
  "gitlens.hovers.currentLine.over": "line",
  "gitlens.currentLine.enabled": true,
  "gitlens.statusBar.enabled": true,
  "gitlens.views.repositories.files.layout": "tree",

  // ============================================================================
  // Python Configuration
  // ============================================================================
  "python.defaultInterpreterPath": "${workspaceFolder}/.venv/Scripts/python.exe",
  "python.formatting.provider": "none",
  "python.linting.enabled": true,
  "python.linting.ruffEnabled": true,
  "python.linting.pylintEnabled": false,
  "python.linting.pylintArgs": [
    "--disable=C0114,C0115,C0116",
    "--disable=W0611",
    "--generate-members"
  ],
  "python.linting.flake8Args": [
    "--ignore=E501,W291"
  ],
  "python.testing.unittestEnabled": true,
  "python.testing.pytestEnabled": false,

  // ============================================================================
  // PowerShell Configuration
  // ============================================================================
  // Pin the PowerShell extension to PowerShell 7.5.4 (not Windows PowerShell 5.1)
  // Ref: https://learn.microsoft.com/powershell/scripting/dev-cross-plat/vscode/using-vscode?view=powershell-7.5#configuration-settings-for-visual-studio-code
  "powershell.powerShellAdditionalExePaths": {
    "PowerShell 7.5.4 (Repo)": "C:/Program Files/PowerShell/7/pwsh.exe"
  },
  "powershell.powerShellDefaultVersion": "PowerShell 7.5.4 (Repo)",

  "powershell.scriptAnalysis.enable": true,
  "powershell.scriptAnalysis.settingsPath": "PSScriptAnalyzerSettings.psd1",
  "powershell.codeFormatting.preset": "OTBS",
  "powershell.codeFormatting.autoCorrectAliases": true,
  "powershell.integratedConsole.showOnStartup": false,

  // SonarLint removed from workspace per request

  // ============================================================================
  // TODO Highlighting
  // ============================================================================
  "todo-tree.general.tags": [
    "BUG",
    "HACK",
    "FIXME",
    "TODO",
    "XXX",
    "[ ]",
    "[x]"
  ],
  "todo-tree.highlights.defaultHighlight": {
    "icon": "alert",
    "type": "text",
    "foreground": "#ffffff",
    "background": "#ff0000",
    "opacity": 50
  },

  // ============================================================================
  // Spell Checker Configuration
  // ============================================================================
  "cSpell.words": [
    "csdevkit",
    "csproj",
    "dotnet",
    "Syncfusion",
    "Wiley",
    "WileyWidget",
    "winforms",
    "XAML"
  ],
  "cSpell.enabledFileTypes": {
    "csharp": true,
    "markdown": false,
    "xml": true
  },

  // ============================================================================
  // Markdown Linting - Disabled (MD lint clutters Problems panel)
  // ============================================================================
  "markdownlint.enable": false,

  // ============================================================================
  // Debugging Configuration
  // ============================================================================
  "debug.toolBarLocation": "docked",
  "debug.openDebug": "openOnDebugBreak",
  "debug.internalConsoleOptions": "openOnSessionStart",

  // ============================================================================
  // Docker Configuration
  // ============================================================================
  "docker.showStartPage": false,

  // ============================================================================
  // Trunk Integration (Full)
  // ============================================================================
  "trunk.checkOnSave": true,
  "trunk.formatOnSave": true,
  "trunk.addToolsToPath": true,

  // ============================================================================
  // Performance & UI
  // ============================================================================
  "extensions.autoUpdate": true,
  "window.restoreWindows": "all",
  "workbench.editor.highlightModifiedTabs": true,
  "workbench.editor.limit.enabled": true,
  "workbench.editor.limit.value": 10,
  "workbench.iconTheme": "vs-seti",
  "workbench.colorTheme": "Default Dark+",
  "search.maxResults": 5000,
  "editor.largeFileOptimizations": false,

  // ============================================================================
  // Terminal Configuration
  // ============================================================================
  // Default terminals to PowerShell 7.5.4 (`pwsh`) to match the PowerShell VS Code extension.
  "terminal.integrated.defaultProfile.osx": "PowerShell",
  "terminal.integrated.profiles.osx": {
    "PowerShell": {
      "path": "pwsh",
      "args": [],
      "icon": "terminal-powershell"
    },
    "zsh": {
      "path": "zsh",
      "args": []
    }
  },
  "terminal.integrated.defaultProfile.windows": "PowerShell 7.5.4",
  "terminal.integrated.automationProfile.windows": "PowerShell 7.5.4",
  "terminal.integrated.profiles.windows": {
    "PowerShell 7.5.4": {
      "path": [
        "C:/Program Files/PowerShell/7/pwsh.exe"
      ],
      "args": [
        "-NoLogo"
      ],
      "icon": "terminal-powershell"
    },
    "Windows PowerShell": {
      "source": "PowerShell",
      "icon": "terminal-powershell"
    },
    "Command Prompt": {
      "path": [
        "${env:windir}\\System32\\cmd.exe"
      ],
      "icon": "terminal-cmd"
    }
  }
}

