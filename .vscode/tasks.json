{
	"version": "2.0.0",
	"tasks": [
		{
			"label": "build",
			"command": "dotnet",
			"type": "process",
			"args": [
				"build",
				"${workspaceFolder}/WileyWidget.WinForms/WileyWidget.WinForms.csproj",
				"/property:GenerateFullPaths=true",
				"/consoleloggerparameters:NoSummary"
			],
			"problemMatcher": "$msCompile",
			"group": {
				"kind": "build",
				"isDefault": true
			}
		}
	],
	// Pragmatic Problem Matcher Configuration for Wiley Widget
	// ========================================================
	// Focus: FUNCTIONAL ISSUES ONLY (runtime blockers, not cosmetic)
	//
	// CRITICAL ERROR CODES (filtered):
	// --------------------------------
	// Nullability Issues (Real bugs):
	//   - CS8600: Converting null literal or possible null value
	//   - CS8601: Possible null reference assignment
	//   - CS8602: Dereference of a possibly null reference (!!!)
	//   - CS8603: Possible null reference return
	//   - CS8604: Possible null reference argument
	//   - CS8618: Non-nullable field uninitialized
	//   - CS8625: Cannot convert null literal to non-nullable reference
	//
	// Async/Await Issues:
	//   - CS4014: Call is not awaited (fire-and-forget danger)
	//   - CS1998: Async method lacks 'await' operators
	//
	// Type System Violations:
	//   - CS0029: Cannot implicitly convert type
	//   - CS0266: Cannot implicitly convert (explicit cast exists)
	//   - CS1503: Argument type mismatch
	//   - CS1061: Type does not contain definition (missing member)
	//   - CS0103: Name does not exist in current context
	//   - CS0246: Type or namespace not found
	//   - CS0234: Type/namespace not found in namespace
	//
	// DI/Prism Resolution Issues:
	//   - CS0115: No suitable method found to override
	//   - CS0534: Does not implement inherited abstract member
	//   - CS0051: Inconsistent accessibility
	//   - CS0052: Inconsistent accessibility (field)
	//
	// Deprecation (Security/Breaking Changes):
	//   - CS0619: Obsolete member usage
	//
	// IGNORED (Cosmetic/Style):
	// -------------------------
	// - IDE0001-IDE9999: All IntelliSense style suggestions
	// - CS0168: Variable declared but never used
	// - CS0219: Variable assigned but never used
	// - CS8321: Local function is declared but never used
	// - IDE0008: Use explicit type instead of 'var'
	// - IDE0011: Add braces
	// - IDE0055: Fix formatting
	// - Unused imports, naming conventions, etc.
	//
	// Integration Notes:
	// ------------------
	// - Works with Serilog startup diagnostics
	// - Detects DI resolution failures
	// - EF Core N+1 issues appear as CS1061 (missing async methods)
	// - Vault security leaks show as CS8600/CS8602 (null handling)
	//
	"tasks": [
		{
			"label": "WileyWidget: Kill Old Processes",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"${workspaceFolder}/scripts/maintenance/cleanup-dotnet-processes.ps1"
			],
			"group": "build",
			"presentation": {
				"echo": true,
				"reveal": "silent",
				"focus": false,
				"panel": "shared"
			},
			"problemMatcher": [],
			"isBackground": false
		},
		{
			"label": "WileyWidget: Clean",
			"type": "shell",
			"command": "dotnet",
			"args": [
				"clean",
				"${workspaceFolder}/WileyWidget.sln",
				"--verbosity",
				"minimal"
			],
			"group": "build",
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": false,
				"panel": "shared"
			},
			"problemMatcher": "$msCompile",
			"dependsOn": "WileyWidget: Kill Old Processes"
		},
		{
			"label": "WileyWidget: Build",
			"type": "shell",
			"command": "dotnet",
			"args": [
				"build",
				"${workspaceFolder}/WileyWidget.sln",
				"--no-restore",
				"--verbosity",
				"minimal",
				"--configuration",
				"Debug"
			],
			"group": {
				"kind": "build",
				"isDefault": true
			},
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": false,
				"panel": "shared"
			},
			"problemMatcher": [
				{
					"owner": "csharp",
					"source": "Build",
					"fileLocation": ["relative", "${workspaceFolder}"],
					"pattern": {
						"regexp": "^(.*)\\((\\d+),(\\d+)\\):\\s+(error|warning)\\s+(CS8600|CS8601|CS8602|CS8603|CS8604|CS8618|CS8625|CS4014|CS1998|CS0029|CS0266|CS1503|CS1061|CS0103|CS0246|CS0234|CS0115|CS0534|CS0051|CS0052|CS0619):\\s+(.*)$",
						"file": 1,
						"line": 2,
						"column": 3,
						"severity": 4,
						"code": 5,
						"message": 6
					},
					"background": {
						"activeOnStart": false,
						"beginsPattern": "^Build started",
						"endsPattern": "^Build (succeeded|failed)"
					}
				},
				{
					"owner": "msbuild",
					"source": "Build",
					"fileLocation": ["relative", "${workspaceFolder}"],
					"pattern": {
						"regexp": "^(.*\\.targets)\\((\\d+),(\\d+)\\):\\s+(error|warning)\\s+(MSB3073):\\s+(.*)$",
						"file": 1,
						"line": 2,
						"column": 3,
						"severity": 4,
						"code": 5,
						"message": 6
					}
				},
				{
					"owner": "msbuild",
					"source": "Build",
					"fileLocation": ["relative", "${workspaceFolder}"],
					"pattern": {
						"regexp": "^(.*\\.targets)\\((\\d+),(\\d+)\\):\\s+(error|warning)\\s+(MSB3073):\\s+(.*)$",
						"file": 1,
						"line": 2,
						"column": 3,
						"severity": 4,
						"code": 5,
						"message": 6
					}
				},
				{
					"owner": "msbuild",
					"source": "Build",
					"fileLocation": ["relative", "${workspaceFolder}"],
					"pattern": {
						"regexp": "^(.*\\.targets)\\((\\d+),(\\d+)\\):\\s+error\\s+(MSB3073):\\s+(.*)$",
						"file": 1,
						"line": 2,
						"column": 3,
						"severity": "error",
						"code": 4,
						"message": 5
					}
				}
			],
			"dependsOn": "WileyWidget: Clean"
		},
		{
			"label": "WileyWidget: Clean & Build",
			"type": "shell",
			"command": "dotnet",
			"args": [
				"build",
				"${workspaceFolder}/WileyWidget.sln",
				"--verbosity",
				"minimal"
			],
			"group": "build",
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": false,
				"panel": "shared"
			},
			"problemMatcher": [
				{
					"owner": "csharp",
					"source": "Build",
					"fileLocation": ["relative", "${workspaceFolder}"],
					"pattern": {
						"regexp": "^(.*)\\((\\d+),(\\d+)\\):\\s+(error|warning)\\s+(CS8600|CS8601|CS8602|CS8603|CS8604|CS8618|CS8625|CS4014|CS1998|CS0029|CS0266|CS1503|CS1061|CS0103|CS0246|CS0234|CS0115|CS0534|CS0051|CS0052|CS0619):\\s+(.*)$",
						"file": 1,
						"line": 2,
						"column": 3,
						"severity": 4,
						"code": 5,
						"message": 6
					}
				}
			],
			"dependsOn": [
				"WileyWidget: Kill Old Processes",
				"WileyWidget: Clean"
			]
		},
		{
			"label": "WileyWidget: Run",
			"type": "shell",
			"command": "dotnet",
			"args": [
				"run",
				"--project",
				"${workspaceFolder}/src/WileyWidget/WileyWidget.csproj",
				"--verbosity",
				"minimal"
			],
			"group": "test",
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": true,
				"panel": "new"
			},
			"problemMatcher": [],
			"isBackground": true,
			"dependsOn": "WileyWidget: Clean & Build"
		},
		{
			"label": "WileyWidget: Cleanup Processes",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"${workspaceFolder}/scripts/maintenance/cleanup-dotnet-processes.ps1"
			],
			"group": "build",
			"presentation": {
				"echo": true,
				"reveal": "silent",
				"focus": false,
				"panel": "shared"
			},
			"problemMatcher": []
		},
		{
			"label": "ensure-logs-dir",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-Command",
				"if (-not (Test-Path -Path \"${workspaceFolder}/logs\")) { New-Item -ItemType Directory -Path \"${workspaceFolder}/logs\" | Out-Null }"
			],
			"presentation": {
				"echo": true,
				"reveal": "always",
				"panel": "shared",
				"focus": false
			},
			"problemMatcher": []
		},
		{
			"label": "mcp:start-github-server",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"${workspaceFolder}/scripts/tools/start-wiley-gh-mcp.ps1",
				"-Background"
			],
			"presentation": {
				"echo": true,
				"reveal": "always",
				"panel": "shared",
				"focus": false
			},
			"problemMatcher": [],
			"group": "build"
		},
		{
			"label": "mcp:start-csharp-mcp",
			"type": "shell",
			"command": "docker",
			"args": [
				"run",
				"-i",
				"--name",
				"csharp-mcp",
				"--rm",
				"-v",
				"${workspaceFolder}:/scripts:ro",
				"-e",
				"CSX_ALLOWED_PATH=/scripts",
				"-e",
				"WW_REPO_ROOT=/scripts",
				"-e",
				"WW_LOGS_DIR=/scripts/logs",
				"ghcr.io/infinityflowapp/csharp-mcp:latest"
			],
			"presentation": {
				"reveal": "always",
				"panel": "shared"
			},
			"problemMatcher": []
		},
		{
			"label": "mcp: analyze",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"${workspaceFolder}/scripts/tools/run-mcp.ps1",
				"-Project",
				"${workspaceFolder}/WileyWidget.csproj"
			],
			"group": {
				"kind": "build",
				"isDefault": false
			},
			"presentation": {
				"echo": true,
				"reveal": "always",
				"panel": "shared"
			},
			"problemMatcher": []
		},
		{
			"label": "psscriptanalyze: workspace",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"${workspaceFolder}/scripts/ps-safe-run.ps1",
				"-ScriptPath",
				"${workspaceFolder}/scripts"
			],
			"presentation": {
				"echo": true,
				"reveal": "always",
				"panel": "shared"
			},
			"problemMatcher": [],
			"group": "build"
		},
		{
			"label": "psscriptanalyze: profile",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-Command",
				"if (Get-Command Invoke-ScriptAnalyzer -ErrorAction SilentlyContinue) { Invoke-ScriptAnalyzer -Path '${workspaceFolder}/.vscode/profile.ps1' -Recurse } else { Write-Host 'PSScriptAnalyzer not available â€” run Install-Module -Name PSScriptAnalyzer' }"
			],
			"presentation": {
				"echo": true,
				"reveal": "always",
				"panel": "shared"
			},
			"problemMatcher": []
		},
		{
			"label": "Open PowerShell Dev Terminal",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-NoExit",
				"-Command",
				"if (Test-Path '${workspaceFolder}\\.venv\\Scripts\\Activate.ps1') { & '${workspaceFolder}\\.venv\\Scripts\\Activate.ps1' }; if (Test-Path '${workspaceFolder}\\.vscode\\profile.ps1') { . '${workspaceFolder}\\.vscode\\profile.ps1' }; Write-Host 'PowerShell Dev Terminal Ready'"
			],
			"presentation": {
				"echo": true,
				"reveal": "always",
				"panel": "new"
			},
			"problemMatcher": [],
			"group": "none",
			"isBackground": true
		},
		{
			"label": "pwsh: safe-run",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"${workspaceFolder}/scripts/ps-safe-run.ps1",
				"-ScriptPath",
				"${input:scriptPath}"
			],
			"presentation": {
				"echo": true,
				"reveal": "always",
				"panel": "shared"
			},
			"problemMatcher": [],
			"group": "none",
			"dependsOn": [
				"psscriptanalyze: workspace"
			]
		},
		{
			"label": "dotnet:clean-build-server",
			"type": "shell",
			"command": "dotnet",
			"args": [
				"build-server",
				"shutdown"
			],
			"presentation": {
				"echo": true,
				"reveal": "silent",
				"panel": "shared"
			},
			"problemMatcher": []
		},
		{
			"label": "dotnet:cleanup-processes",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"${workspaceFolder}/scripts/maintenance/cleanup-dotnet-processes.ps1"
			],
			"presentation": {
				"echo": true,
				"reveal": "silent",
				"panel": "shared"
			},
			"problemMatcher": []
		},
		{
			"label": "dotnet:fast-build",
			"type": "shell",
			"command": "dotnet",
			"args": [
				"build",
				"${workspaceFolder}/WileyWidget.sln",
				"--no-restore",
				"--configuration",
				"Debug",
				"--verbosity",
				"quiet",
				"/m",
				"/maxcpucount",
				"/p:BuildInParallel=true",
				"/p:UseSharedCompilation=true",
				"/p:NodeReuse=true",
				"/p:RunAnalyzers=false",
				"/p:RunAnalyzersDuringBuild=false",
				"/p:EnableNETAnalyzers=false"
			],
			"isBackground": false,
			"problemMatcher": "$msCompile",
			"presentation": {
				"echo": true,
				"reveal": "silent",
				"panel": "shared",
				"clear": false,
				"showReuseMessage": false
			},
			"group": "build"
		},
		{
			"label": "build",
			"type": "shell",
			"command": "dotnet",
			"args": [
				"build",
				"${workspaceFolder}/WileyWidget.sln",
				"--no-restore",
				"--configuration",
				"Debug",
				"--verbosity",
				"minimal",
				"/m",
				"/maxcpucount",
				"/p:BuildInParallel=true",
				"/p:UseSharedCompilation=true",
				"/p:AccelerateBuildsInVisualStudio=true",
				"/p:ProduceReferenceAssemblyInOutDir=true",
				"/p:Deterministic=true",
				"/p:NodeReuse=true",
				"/p:RunAnalyzers=false",
				"/p:RunAnalyzersDuringBuild=false",
				"/p:EnableNETAnalyzers=false",
				"/p:GenerateDocumentationFile=false",
				"/p:XamlDebuggingInformation=false"
			],
			"dependsOn": [
				"kill-test-processes",
				"dotnet:clean-build-server"
			],
			"isBackground": false,
			"problemMatcher": [
				{
					"owner": "csharp",
					"source": "Build",
					"fileLocation": ["relative", "${workspaceFolder}"],
					"pattern": {
						"regexp": "^(.*)\\((\\d+),(\\d+)\\):\\s+(error|warning)\\s+(CS8600|CS8601|CS8602|CS8603|CS8604|CS8618|CS8625|CS4014|CS1998|CS0029|CS0266|CS1503|CS1061|CS0103|CS0246|CS0234|CS0115|CS0534|CS0051|CS0052|CS0619):\\s+(.*)$",
						"file": 1,
						"line": 2,
						"column": 3,
						"severity": 4,
						"code": 5,
						"message": 6
					}
				}
			],
			"presentation": {
				"echo": true,
				"reveal": "always",
				"panel": "shared",
				"clear": false,
				"showReuseMessage": true
			},
			"group": {
				"kind": "build",
				"isDefault": true
			}
		},
		{
			"label": "kill-test-processes",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"${workspaceFolder}/scripts/maintenance/cleanup-dotnet-processes.ps1"
			],
			"presentation": {
				"echo": true,
				"reveal": "silent",
				"panel": "shared"
			},
			"problemMatcher": []
		},
		{
			"label": "kill-dotnet",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-Command",
				"Get-Process | Where-Object { $_.ProcessName -match 'dotnet|WileyWidget' -and $_.Id -ne $PID } | Stop-Process -Force -ErrorAction SilentlyContinue"
			],
			"presentation": {
				"echo": false,
				"reveal": "never",
				"panel": "shared"
			},
			"problemMatcher": []
		},
		{
			"label": "test: viewmodels",
			"type": "shell",
			"command": "dotnet",
			"args": [
				"test",
				"${workspaceFolder}/WileyWidget.sln",
				"--no-build",
				"--logger",
				"trx",
				"--logger",
				"console;verbosity=detailed",
				"--results-directory",
				"${workspaceFolder}/TestResults"
			],
			"dependsOn": [
				"kill-test-processes"
			],
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": false,
				"panel": "shared",
				"showReuseMessage": true,
				"clear": false
			},
			"isBackground": false,
			"group": "test"
		},
		{
			"label": "test: viewmodels-verbose-log",
			"type": "shell",
			"command": "dotnet",
			"args": [
				"test",
				"${workspaceFolder}/WileyWidget.sln",
				"--no-build",
				"--logger",
				"trx",
				"--logger",
				"console;verbosity=detailed",
				"--results-directory",
				"${workspaceFolder}/TestResults"
			],
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": false,
				"panel": "shared",
				"showReuseMessage": true,
				"clear": false
			},
			"isBackground": false,
			"group": "test"
		},
		{
			"label": "test: run-all-verbose",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"${workspaceFolder}/scripts/run-tests-verbose.ps1",
				"-TestType",
				"all"
			],
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": false,
				"panel": "shared",
				"showReuseMessage": true,
				"clear": false
			},
			"group": "test"
		},
		{
			"label": "generate-ai-fetchable-manifest",
			"type": "shell",
			"command": "${workspaceFolder}/.venv/Scripts/python.exe",
			"args": [
				"${workspaceFolder}/scripts/tools/generate_repo_urls.py",
				"-o",
				"${workspaceFolder}/ai-fetchable-manifest.json"
			],
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": false,
				"panel": "shared",
				"showReuseMessage": true,
				"clear": false
			},
			"problemMatcher": [],
			"group": "build"
		},
		{
			"label": "mcp:init-servers",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"${workspaceFolder}/scripts/init-mcp-servers.ps1",
				"-HealthCheck"
			],
			"presentation": {
				"echo": true,
				"reveal": "always",
				"panel": "shared",
				"focus": true
			},
			"problemMatcher": [],
			"group": "build"
		},
		{
			"label": "git:update",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-Command",
				"& \"${workspaceFolder}/scripts/maintenance/git-update.ps1\""
			],
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": true,
				"panel": "dedicated",
				"showReuseMessage": false,
				"clear": true
			},
			"problemMatcher": [],
			"group": "none"
		},
		{
			"label": "git:update-custom-message",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-Command",
				"& \"${workspaceFolder}/scripts/maintenance/git-update.ps1\" -Message \"${input:commitMessage}\""
			],
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": true,
				"panel": "dedicated",
				"showReuseMessage": false,
				"clear": true
			},
			"problemMatcher": [],
			"group": "none"
		},
		{
			"label": "git:update-force",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"${workspaceFolder}/scripts/maintenance/git-update.ps1",
				"-Message",
				"${input:commitMessage}",
				"-Force"
			],
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": true,
				"panel": "dedicated",
				"showReuseMessage": false,
				"clear": true
			},
			"problemMatcher": [],
			"group": "none"
		},
		{
			"label": "Test Explorer: Discover CSX Tests",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-Command",
				"Get-ChildItem -Path '${workspaceFolder}/scripts/examples/csharp' -Filter '*.csx' | ForEach-Object { Write-Host \"Found CSX test: $($_.Name)\" }"
			],
			"group": "test",
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": false,
				"panel": "shared"
			},
			"problemMatcher": []
		},
		{
			"label": "Run Script (Intelligent)",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"${workspaceFolder}/scripts/tools/run-script.ps1",
				"-ScriptPath",
				"${input:intelligentScriptPath}",
				"-Verbose"
			],
			"group": "none",
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": true,
				"panel": "dedicated",
				"showReuseMessage": false,
				"clear": false
			},
			"problemMatcher": [],
			"options": {
				"env": {
					"TERM_PROGRAM": "vscode"
				}
			}
		},
		{
			"label": "Run Python Script",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"${workspaceFolder}/scripts/tools/run-script.ps1",
				"-ScriptPath",
				"${input:pythonScriptPath}",
				"-ShowInterpreterInfo"
			],
			"group": "test",
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": true,
				"panel": "dedicated",
				"showReuseMessage": false,
				"clear": false
			},
			"problemMatcher": []
		},
		{
			"label": "Run PowerShell Script",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"${workspaceFolder}/scripts/tools/run-script.ps1",
				"-ScriptPath",
				"${input:powershellScriptPath}"
			],
			"group": "none",
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": true,
				"panel": "dedicated"
			},
			"problemMatcher": []
		},
		{
			"label": "Run CSX Script",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"${workspaceFolder}/scripts/tools/run-script.ps1",
				"-ScriptPath",
				"${input:csxScriptPath}",
				"-Verbose"
			],
			"group": "test",
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": true,
				"panel": "dedicated"
			},
			"problemMatcher": []
		},
		{
			"label": "Run Startup Validator (Python)",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"${workspaceFolder}/scripts/tools/run-script.ps1",
				"-ScriptPath",
				"tests/test_startup_validator.py"
			],
			"group": "test",
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": true,
				"panel": "dedicated",
				"showReuseMessage": false
			},
			"problemMatcher": []
		},
		{
			"label": "Analyze CI Failures",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
			"-ExecutionPolicy",
			"Bypass",
			"-File",
			"${workspaceFolder}/scripts/tools/analyze-ci-failures.ps1",
				"-Limit",
			"5",
				"-Verbose"
			],
			"group": "build",
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": false,
				"panel": "shared"
			},
			"problemMatcher": []
		},
		{
			"label": "mcp:validate-setup",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"${workspaceFolder}/scripts/tools/validate-mcp-setup.ps1",
				"-Verbose"
			],
			"group": "build",
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": false,
				"panel": "shared"
			},
			"problemMatcher": []
		},
		{
			"label": "mcp:update-images",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"${workspaceFolder}/scripts/tools/validate-mcp-setup.ps1",
				"-UpdateImages"
			],
			"group": "build",
			"problemMatcher": []
		},
		{
			"label": "mcp:fix-issues",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"${workspaceFolder}/scripts/tools/validate-mcp-setup.ps1",
				"-FixIssues"
			],
			"group": "build",
			"problemMatcher": []
		},
		{
			"label": "mcp:test-csharp-eval",
			"type": "shell",
			"command": "docker",
			"args": [
				"run",
				"--rm",
				"-v",
				"${workspaceFolder}:/scripts:ro",
				"-e",
				"WW_REPO_ROOT=/scripts",
				"ghcr.io/infinityflowapp/csharp-mcp:latest",
				"-c",
				"Console.WriteLine(\"MCP C# Evaluation Test: Success!\");"
			],
			"group": "test",
			"problemMatcher": []
		},
		{
			"label": "mcp:setup-sql-server",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"${workspaceFolder}/scripts/tools/setup-sql-mcp.ps1",
				"-TestConnection",
				"-CreateProfile"
			],
			"group": "build",
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": true,
				"panel": "dedicated"
			},
			"problemMatcher": []
		},
		{
			"label": "mcp:update-docker-images",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"${workspaceFolder}/scripts/maintenance/update-mcp-images.ps1",
				"-Verbose"
			],
			"group": "build",
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": true,
				"panel": "dedicated"
			},
			"problemMatcher": []
		},
		{
			"label": "mcp:audit-github-token",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"${workspaceFolder}/scripts/maintenance/audit-github-token.ps1",
				"-Verbose"
			],
			"group": "build",
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": true,
				"panel": "dedicated"
			},
			"problemMatcher": []
		},
		{
			"label": "mcp:integrate-sequential-thinking",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"${workspaceFolder}/scripts/tools/integrate-sequential-thinking.ps1",
				"-CreateHelpers",
				"-GenerateExamples",
				"-Validate"
			],
			"group": "build",
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": true,
				"panel": "dedicated"
			},
			"problemMatcher": []
		},
		{
			"label": "scan:legacy-code-python",
			"type": "shell",
			"command": "python",
			"args": [
				"${workspaceFolder}/tools/legacy_scanner.py",
				"--root",
				"${workspaceFolder}",
				"--output",
				"${workspaceFolder}/legacy_scan_report.json"
			],
			"group": "test",
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": true,
				"panel": "dedicated",
				"clear": true
			},
			"problemMatcher": []
		},
		{
			"label": "scan:legacy-code-python-verbose",
			"type": "shell",
			"command": "python",
			"args": [
				"${workspaceFolder}/tools/legacy_scanner.py",
				"--root",
				"${workspaceFolder}",
				"--verbose",
				"--output",
				"${workspaceFolder}/legacy_scan_report_verbose.json"
			],
			"group": "test",
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": true,
				"panel": "dedicated",
				"clear": true
			},
			"problemMatcher": []
		},
		{
			"label": "scan:legacy-code-powershell",
			"type": "shell",
			"command": "pwsh",
			"args": [
				"-NoProfile",
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"${workspaceFolder}/scripts/tools/legacy_scanner.ps1",
				"-Root",
				"${workspaceFolder}",
				"-OutputJson",
				"${workspaceFolder}/legacy_scan_report.json"
			],
			"group": "test",
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": true,
				"panel": "dedicated",
				"clear": true
			},
			"problemMatcher": []
		},
		{
			"label": "scan:legacy-code-ci",
			"type": "shell",
			"command": "python",
			"args": [
				"${workspaceFolder}/tools/legacy_scanner.py",
				"--root",
				"${workspaceFolder}",
				"--fail-on-hits",
				"--output",
				"${workspaceFolder}/legacy_scan_ci.json"
			],
			"group": "test",
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": true,
				"panel": "dedicated",
				"clear": true
			},
			"problemMatcher": []
		},
		{
			"label": "XAML: Diagnose Silent XAML Failures (xaml-strict-validator)",
			"type": "shell",
			"command": "python",
			"args": [
				"${workspaceFolder}/scripts/tools/xaml-strict-validator.py",
				"${workspaceFolder}/src/WileyWidget.WinUI/${input:xamlObjDir}"
			],
			"group": "build",
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": true,
				"panel": "dedicated",
				"showReuseMessage": false,
				"clear": true
			},
			"problemMatcher": [
				{
					"owner": "xaml-validator",
					"fileLocation": ["relative","${workspaceFolder}"],
					"pattern": {
						"regexp": "^FAIL\\s+(.+?):(\\d+):(\\d+)\\s+\\[(WMC\\d+)\\]\\s+(.*)$",
						"file": 1,
						"line": 2,
						"column": 3,
						"severity": "error",
						"code": 4,
						"message": 5
					}
				},
				{
					"owner": "xaml-validator",
					"fileLocation": ["relative","${workspaceFolder}"],
					"pattern": {
						"regexp": "^CRASH\\s+(.+?):\\s+(.*)$",
						"file": 1,
						"message": 2,
						"severity": "error"
					}
				}
			],
			"detail": "Run xaml-strict-validator when XamlCompiler.exe fails silently (MSB3073) to extract exact XAML errors"
		}
	],
	"inputs": [
		{
			"id": "intelligentScriptPath",
			"type": "promptString",
			"description": "Script to run (auto-detects .py, .ps1, .csx, .cs)",
			"default": "tests/test_startup_validator.py"
		},
		{
			"id": "pythonScriptPath",
			"type": "promptString",
			"description": "Python script to run (.py)",
			"default": "tests/test_startup_validator.py"
		},
		{
			"id": "powershellScriptPath",
			"type": "promptString",
			"description": "PowerShell script to run (.ps1)",
			"default": "scripts/maintenance/git-update.ps1"
		},
		{
			"id": "csxScriptPath",
			"type": "promptString",
			"description": "C# script to run (.csx)",
			"default": "scripts/examples/csharp/44-xaml-binding-static-analyzer.csx"
		},
		{
			"id": "commitMessage",
			"type": "promptString",
			"description": "Enter commit message",
			"default": "chore: Update project files"
		},
		{
			"id": "scriptPath",
			"type": "promptString",
			"description": "Path to the script to run (absolute or relative). Example: ${workspaceFolder}/scripts/deploy.ps1",
			"default": "${workspaceFolder}/scripts"
		},
		{
			"id": "csxTestFile",
			"type": "promptString",
			"description": "CSX test file to run (e.g., 44-xaml-binding-static-analyzer.csx)",
			"default": "44-xaml-binding-static-analyzer.csx"
		},
		{
			"id": "xamlObjDir",
			"type": "pickString",
			"description": "Select obj directory (TFM/RID combination)",
			"options": [
				"obj/Debug/net9.0-windows10.0.26100.0/win-x64",
				"obj/Debug/net9.0-windows10.0.19041.0/win-x64",
				"obj/Release/net9.0-windows10.0.26100.0/win-x64",
				"obj/Debug/net9.0-windows10.0.26100.0/win-arm64",
				"obj/Debug/net8.0-windows10.0.19041.0/win-x64"
			],
			"default": "obj/Debug/net9.0-windows10.0.26100.0/win-x64"
		}
	]
}
