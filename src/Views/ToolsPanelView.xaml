<UserControl x:Class="WileyWidget.Views.ToolsPanelView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:local="clr-namespace:WileyWidget"
             xmlns:syncfusion="http://schemas.syncfusion.com/wpf"
             xmlns:notification="http://schemas.syncfusion.com/wpf"
             mc:Ignorable="d"
             d:DesignHeight="500" d:DesignWidth="350"
             xmlns:prism="http://prismlibrary.com/" prism:ViewModelLocator.AutoWireViewModel="True">
    <UserControl.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVis" />
    </UserControl.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!-- Header -->
        <TextBlock Grid.Row="0" Text="🛠️ Tools &amp; Utilities"
                  FontSize="16" FontWeight="Bold" Margin="0,0,0,15"
                  HorizontalAlignment="Center" />

        <!-- Tools Content -->
        <TabControl Grid.Row="1">
            <!-- Calculator Tab -->
            <TabItem Header="Calculator">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>

                    <!-- Display -->
                    <Border Grid.Row="0" BorderBrush="Gray" BorderThickness="1" Margin="0,0,0,10">
                        <TextBox Text="{Binding CalculatorDisplay, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                FontSize="18" FontFamily="Consolas" Padding="5"
                                IsReadOnly="True" Background="LightGray" />
                    </Border>

                    <!-- Memory Display -->
                    <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,0,0,10">
                        <TextBlock Text="Memory:" FontWeight="Bold" Margin="0,0,5,0" />
                        <TextBlock Text="{Binding CalculatorMemory, StringFormat={}{0:N2}}" />
                    </StackPanel>

                    <!-- Buttons Grid -->
                    <UniformGrid Grid.Row="2" Rows="5" Columns="4" Margin="0,10,0,0">
                        <!-- Row 1 -->
                        <syncfusion:ButtonAdv Content="MC" Command="{Binding CalculatorMemoryClearCommand}" Margin="2" />
                        <syncfusion:ButtonAdv Content="MR" Command="{Binding CalculatorMemoryRecallCommand}" Margin="2" />
                        <syncfusion:ButtonAdv Content="MS" Command="{Binding CalculatorMemoryStoreCommand}" Margin="2" />
                        <syncfusion:ButtonAdv Content="M+" Command="{Binding CalculatorMemoryAddCommand}" Margin="2" />

                        <!-- Row 2 -->
                        <syncfusion:ButtonAdv Content="7" Command="{Binding CalculatorNumberCommand}" CommandParameter="7" Margin="2" />
                        <syncfusion:ButtonAdv Content="8" Command="{Binding CalculatorNumberCommand}" CommandParameter="8" Margin="2" />
                        <syncfusion:ButtonAdv Content="9" Command="{Binding CalculatorNumberCommand}" CommandParameter="9" Margin="2" />
                        <syncfusion:ButtonAdv Content="/" Command="{Binding CalculatorOperationCommand}" CommandParameter="/" Margin="2" />

                        <!-- Row 3 -->
                        <syncfusion:ButtonAdv Content="4" Command="{Binding CalculatorNumberCommand}" CommandParameter="4" Margin="2" />
                        <syncfusion:ButtonAdv Content="5" Command="{Binding CalculatorNumberCommand}" CommandParameter="5" Margin="2" />
                        <syncfusion:ButtonAdv Content="6" Command="{Binding CalculatorNumberCommand}" CommandParameter="6" Margin="2" />
                        <syncfusion:ButtonAdv Content="*" Command="{Binding CalculatorOperationCommand}" CommandParameter="*" Margin="2" />

                        <!-- Row 4 -->
                        <syncfusion:ButtonAdv Content="1" Command="{Binding CalculatorNumberCommand}" CommandParameter="1" Margin="2" />
                        <syncfusion:ButtonAdv Content="2" Command="{Binding CalculatorNumberCommand}" CommandParameter="2" Margin="2" />
                        <syncfusion:ButtonAdv Content="3" Command="{Binding CalculatorNumberCommand}" CommandParameter="3" Margin="2" />
                        <syncfusion:ButtonAdv Content="-" Command="{Binding CalculatorOperationCommand}" CommandParameter="-" Margin="2" />

                        <!-- Row 5 -->
                        <syncfusion:ButtonAdv Content="0" Command="{Binding CalculatorNumberCommand}" CommandParameter="0" Margin="2" Grid.ColumnSpan="2" />
                        <syncfusion:ButtonAdv Content="." Command="{Binding CalculatorDecimalCommand}" Margin="2" />
                        <syncfusion:ButtonAdv Content="+" Command="{Binding CalculatorOperationCommand}" CommandParameter="+" Margin="2" />

                        <!-- Additional Operations (below grid) -->
                        <syncfusion:ButtonAdv Content="=" Command="{Binding CalculatorEqualsCommand}" Margin="2,10,2,2" Grid.ColumnSpan="4" />
                        <syncfusion:ButtonAdv Content="C" Command="{Binding CalculatorClearCommand}" Margin="2" Grid.ColumnSpan="2" />
                        <syncfusion:ButtonAdv Content="CE" Command="{Binding CalculatorClearEntryCommand}" Margin="2" Grid.ColumnSpan="2" />
                    </UniformGrid>
                </Grid>
            </TabItem>

            <!-- Unit Converter Tab -->
            <TabItem Header="Unit Converter">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>

                    <!-- Category Selection -->
                    <TextBlock Grid.Row="0" Text="Category:" FontWeight="Bold" Margin="0,0,0,5" />
                    <ComboBox Grid.Row="1" ItemsSource="{Binding UnitCategories}"
                             SelectedItem="{Binding SelectedUnitCategory, Mode=TwoWay}"
                             Margin="0,0,0,15" />

                    <!-- From Unit -->
                    <TextBlock Grid.Row="2" Text="From:" FontWeight="Bold" Margin="0,0,0,5" />
                    <Grid Grid.Row="3" Margin="0,0,0,15">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <syncfusion:DoubleTextBox Grid.Column="0" Value="{Binding FromValue, Mode=TwoWay}" Margin="0,0,5,0" />
                        <ComboBox Grid.Column="1" ItemsSource="{Binding FromUnits}"
                                 SelectedItem="{Binding SelectedFromUnit, Mode=TwoWay}"
                                 Width="100" />
                    </Grid>

                    <!-- To Unit -->
                    <TextBlock Grid.Row="4" Text="To:" FontWeight="Bold" Margin="0,0,0,5" />
                    <Grid Grid.Row="5" Margin="0,0,0,15">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBox Grid.Column="0" Text="{Binding ToValue, Mode=OneWay}" IsReadOnly="True"
                                Background="LightGray" Margin="0,0,5,0" />
                        <ComboBox Grid.Column="1" ItemsSource="{Binding ToUnits}"
                                 SelectedItem="{Binding SelectedToUnit, Mode=TwoWay}"
                                 Width="100" />
                    </Grid>

                    <!-- Convert Button -->
                    <syncfusion:ButtonAdv Grid.Row="6" Content="Convert"
                                        Command="{Binding ConvertUnitsCommand}"
                                        HorizontalAlignment="Center" Margin="0,10,0,0" />
                </Grid>
            </TabItem>

            <!-- Date Calculator Tab -->
            <TabItem Header="Date Calculator">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>

                    <!-- Start Date -->
                    <TextBlock Grid.Row="0" Text="Start Date:" FontWeight="Bold" Margin="0,0,0,5" />
                    <DatePicker Grid.Row="1" SelectedDate="{Binding StartDate, Mode=TwoWay}"
                                           Margin="0,0,0,15" />

                    <!-- Operation -->
                    <TextBlock Grid.Row="2" Text="Operation:" FontWeight="Bold" Margin="0,0,0,5" />
                    <ComboBox Grid.Row="3" ItemsSource="{Binding DateOperations}"
                             SelectedItem="{Binding SelectedDateOperation}"
                             Margin="0,0,0,15" />

                    <!-- Value -->
                    <TextBlock Grid.Row="4" Text="Value:" FontWeight="Bold" Margin="0,0,0,5" />
                    <syncfusion:IntegerTextBox Grid.Row="5" Value="{Binding DateValue, Mode=TwoWay}"
                                             Margin="0,0,0,15" />

                    <!-- Result -->
                    <TextBlock Grid.Row="6" Text="Result:" FontWeight="Bold" Margin="0,0,0,5" />
                    <TextBox Grid.Row="7" Text="{Binding DateResult, Mode=OneWay}" IsReadOnly="True"
                            Background="LightGray" Margin="0,0,0,15" />

                    <!-- Calculate Button -->
                    <syncfusion:ButtonAdv Grid.Row="8" Content="Calculate"
                                        Command="{Binding CalculateDateCommand}"
                                        HorizontalAlignment="Center" Margin="0,10,0,0" />
                </Grid>
            </TabItem>

            <!-- Notes Tab -->
            <TabItem Header="Notes">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <!-- Notes Header -->
                    <TextBlock Grid.Row="0" Text="Quick Notes" FontWeight="Bold" Margin="0,0,0,10" />

                    <!-- Notes TextBox -->
                    <TextBox Grid.Row="1" Text="{Binding NotesText, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                            AcceptsReturn="True" TextWrapping="Wrap" VerticalScrollBarVisibility="Auto"
                            Margin="0,0,0,10" />

                    <!-- Notes Actions -->
                    <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center">
                        <syncfusion:ButtonAdv Content="Save" Command="{Binding SaveNotesCommand}" Margin="0,0,5,0" />
                        <syncfusion:ButtonAdv Content="Clear" Command="{Binding ClearNotesCommand}" Margin="5,0,0,0" />
                    </StackPanel>
                </Grid>
            </TabItem>
        </TabControl>
    </Grid>
</UserControl>
