{
  "ConnectionStrings": {
    "DefaultConnection": "Server=.\\SQLEXPRESS;Database=WileyWidgetDev;Trusted_Connection=True;TrustServerCertificate=True;"
  },
  "Serilog": {
    "Using": [
      "Serilog.Sinks.File",
      "Serilog.Sinks.Console",
      "Serilog.Sinks.Async",
      "Serilog.Enrichers.Environment",
      "Serilog.Enrichers.Process",
      "Serilog.Enrichers.Thread"
    ],
    "MinimumLevel": {
      "Default": "Verbose",
      "Override": {
        "Microsoft": "Verbose",
        "System": "Verbose",
        "WileyWidget": "Debug",
        "WileyWidget.Startup": "Verbose",
        "WileyWidget.DI": "Verbose",
        "WileyWidget.Exception": "Verbose"
      }
    },
    "Enrich": [
      "FromLogContext",
      "WithMachineName",
      "WithProcessId",
      "WithThreadId",
      "WithEnvironmentName"
    ],
    "WriteTo": [
      {
        "Name": "Console",
        "Args": {
          "outputTemplate": "{Timestamp:HH:mm:ss} [{Level:u3}] {SourceContext} {Message:lj}{NewLine}{Exception}"
        }
      },
      {
        "Name": "Async",
        "Args": {
          "bufferSize": 500,
          "configure": [
            {
              "Name": "File",
              "Args": {
                "path": "logs\\startup-.txt",
                "rollingInterval": "Day",
                "retainedFileCountLimit": 7,
                "fileSizeLimitBytes": 52428800,
                "rollOnFileSizeLimit": true,
                "shared": true,
                "outputTemplate": "{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz} [{Level:u3}] {MachineName} {ProcessId}:{ThreadId} {SourceContext} {CorrelationId} {Message:lj}{NewLine}{Exception}"
              }
            }
          ]
        }
      },
      {
        "Name": "Async",
        "Args": {
          "configure": [
            {
              "Name": "File",
              "Args": {
                "path": "C:\\Users\\biges\\Desktop\\Wiley-Widget\\logs\\wiley-widget-.log",
                "rollingInterval": "Day",
                "retainedFileCountLimit": 30,
                "fileSizeLimitBytes": 104857600,
                "rollOnFileSizeLimit": true,
                "shared": true,
                "outputTemplate": "{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz} [{Level:u3}] {MachineName} {ProcessId}:{ThreadId} {SourceContext} {CorrelationId} {Message:lj}{NewLine}{Exception}"
              }
            }
          ]
        }
      },
      {
        "Name": "Async",
        "Args": {
          "configure": [
            {
              "Name": "File",
              "Args": {
                "path": "logs\\errors-.log",
                "rollingInterval": "Day",
                "retainedFileCountLimit": 90,
                "restrictedToMinimumLevel": "Warning",
                "outputTemplate": "{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz} [{Level:u3}] {MachineName} {ProcessId}:{ThreadId} {SourceContext} {CorrelationId} {Message:lj}{NewLine}{Exception}"
              }
            }
          ]
        }
      }
    ]
  },
  "Logging": {
    "LogLevel": {
      "Default": "Trace",
      "Microsoft": "Trace",
      "Microsoft.Hosting.Lifetime": "Information",
      "Microsoft.EntityFrameworkCore": "Information",
      "Microsoft.EntityFrameworkCore.Database.Command": "Information",
      "Microsoft.EntityFrameworkCore.Database.Connection": "Information",
      "Microsoft.EntityFrameworkCore.Database.Transaction": "Information",
      "Microsoft.EntityFrameworkCore.Update": "Information",
      "Microsoft.EntityFrameworkCore.Migrations": "Information",
      "WileyWidget.Services": "Trace",
      "WileyWidget.WinForms.ViewModels": "Trace",
      "WileyWidget.WinForms.Forms": "Trace"
    }
  },
  "UI": {
    "UIMode": "DockingOnly",
    "UseDockingManager": true,
    "AutoShowDashboard": true,
    "Theme": "Office2019Colorful",
    "FiscalYear": 2026,
    "DefaultFiscalYear": 2026
  },

  "Validation": {
    "DiValidationEnabled": true,
    "FastValidation": true
  },

  "SYNCFUSION_LICENSE_KEY": "YOUR_SYNCFUSION_LICENSE_KEY",

  "Syncfusion": {
    "LicenseKey": "YOUR_SYNCFUSION_LICENSE_KEY"
  },

  "AllowedHosts": "*",

  "XAI": {
    "Enabled": true,
    "ApiKey": "ci-test-xai-key-0123456789-abcdefghijklmnopqrstuvwxyz-VALID",
    "Endpoint": "https://api.x.ai/v1",
    "Model": "grok-4.1",
    "Temperature": 0.3,
    "MaxTokens": 800
  },

  "Startup": {
    "TimeoutSeconds": 120,
    "EnableDiValidation": true,
    "EnableThemeValidation": true,
    "EnableLicenseValidation": true,
    "PhaseTimeouts": {
      "DockingInitMs": 15000,
      "ViewModelInitMs": 10000,
      "DataLoadMs": 8000
    }
  },

  "HttpClients": {
    "GrokClient": {
      "Timeout": "00:00:15",
      "RetryAttempts": 3,
      "BackoffMs": 600,
      "CircuitBreakerFailureRatio": 0.5,
      "CircuitBreakerBreakDurationMin": 2
    },
    "QuickBooksClient": {
      "Timeout": "00:00:10",
      "RetryAttempts": 5,
      "BackoffMs": 1000,
      "CircuitBreakerFailureRatio": 0.5,
      "CircuitBreakerBreakDurationMin": 2,
      "Handle429": true,
      "Handle5xx": true
    }
  },

  "Services": {
    "AILogging": {
      "EnableAudit": true,
      "BufferSize": 1000
    },
    "QuickBooks": {
      "RateLimitPerMinute": 100,
      "CacheTokens": true,
      "MaxRetryAttempts": 5,
      "OAuth": {
        "ClientId": "YOUR_CLIENT_ID",
        "ClientSecret": "YOUR_CLIENT_SECRET",
        "RedirectUri": "http://localhost:5000/callback",
        "Environment": "sandbox",
        "AuthorizationEndpoint": "https://appcenter.intuit.com/connect/oauth2",
        "TokenEndpoint": "https://oauth.platform.intuit.com/oauth2/v1/tokens/bearer",
        "RevokeEndpoint": "https://developer.intuit.com/v2/oauth"
      },
      "Scopes": ["com.intuit.quickbooks.accounting"],
      "TokenCachePath": "./cache/qb-tokens.json",
      "EnableTokenPersistence": true
    },
    "DataAnonymizer": {
      "EnableCaching": true,
      "CacheExpirationMinutes": 60
    },
    "ReportExport": {
      "DefaultFormat": "PDF",
      "MaxConcurrentExports": 5,
      "TemporaryStorageDir": "./temp-exports"
    }
  }
}
